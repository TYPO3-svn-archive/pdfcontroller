plugin.tx_pdfcontroller_pi2 {
  button = IMAGE
  button {
    wrap = |&nbsp;
    file = ###IMAGEFILE###
    altText = TEXT
    altText {
      value = Download content as PDF file
      lang {
        de = Inhalt als PDF-Datei herunterladen
      }
    }
    titleText < .altText
    imageLinkWrap = 1
    imageLinkWrap {
      enable = 1
      typolink {
        parameter         = ###PARAMETER###
        additionalParams  = ###ADDITIONALPARAMS###
        ATagParams        = rel="nofollow"
      }
    }
  }
  flexform {
    sDEF {
        // Path to the image file with the PDF icon
      imagefile = TEXT
      imagefile {
        value = EXT:pdfcontroller/res/images/pdf.png
      }
    }
  }
  master_templates {
      // Example until TYPO3 4.5
    pdf_and_print_button = COA
    pdf_and_print_button {
      wrap = <div class="tx-pdfcontroller-pi2"><ul> | </ul></div>
        // PDF icon
      10 = IMAGE
      10 {
        wrap = <li>|</li>
        file = typo3conf/ext/pdfcontroller/res/images/pdf.png
        altText = TEXT
        altText {
          value = Download content as PDF file
          lang {
            de = Inhalt als PDF-Datei herunterladen
          }
        }
        titleText < .altText
        imageLinkWrap = 1
        imageLinkWrap {
          enable = 1
          typolink {
            parameter         = {$plugin.tx_pdfcontroller_pi2.page.pdf_controller}
            additionalParams  = TEXT
            additionalParams {
              wrap = &tx_pdfcontroller_pi1[URL]={getIndpEnv:TYPO3_SITE_URL}|
              insertData = 1
              typolink {
                parameter = {page:uid},{$plugin.tx_pdfcontroller_pi2.typeNum.print}
                parameter {
                  insertData = 1
                }
                addQueryString  = 1
                addQueryString {
                  exclude = id
                }
                returnLast      = url
              }
            }
            ATagParams    = rel="nofollow"
            rawUrlEncode  = 1
          }
        }
      }
        // Print icon
      20 = IMAGE
      20 {
        wrap = <li>|</li>
        file = typo3conf/ext/pdfcontroller/res/images/printer.png
        altText = TEXT
        altText {
          value = Optimized printing
          lang {
            de = Optimierter Druck
          }
        }
        titleText < .altText
        imageLinkWrap = 1
        imageLinkWrap {
          enable = 1
          typolink {
            parameter = {page:uid},{$plugin.tx_pdfcontroller_pi2.typeNum.print}
            parameter {
              insertData = 1
            }
            addQueryString  = 1
            addQueryString {
              exclude = id
            }
            ATagParams      = rel="nofollow"
          }
        }
      }
    }
    pdf_and_print_button_realUrl = COA
    pdf_and_print_button_realUrl {
    }
  }
  _CSS_DEFAULT_STYLE (
    .tx-pdfcontroller-pi2 {
      text-align: right;
    }
    .tx-pdfcontroller-pi2 ul {
      font-weight: bold;
      list-style-type: none;
      margin: 0;
      padding: 0;
    }
    .tx-pdfcontroller-pi2 ul li {
      display:inline;
      margin: 0;
      padding-left:.6em;
    }
  )
}



plugin.tx_pdfcontroller_pi2 {
  master_templates {
      // Example without realUrl. See typolink.additionalParams below ...
    pdf_and_print_button_rawUrlEncode = COA
    pdf_and_print_button_rawUrlEncode {
      wrap = <div class="tx-pdfcontroller-pi2"><ul> | </ul></div>
      10 < plugin.tx_pdfcontroller_pi2.master_templates.pdf_and_print_button.10
      10 {
        imageLinkWrap {
          typolink {
            additionalParams >
              // Example:  ...ADDITIONALPARAMS...%26type=98&tx_pdfcontroller_pi1[pixels]=580
            additionalParams =  ###ADDITIONALPARAMS###%26type={$plugin.tx_pdfcontroller_pi2.typeNum.print}
          }
        }
      }
      20 < plugin.tx_pdfcontroller_pi2.master_templates.pdf_and_print_button.20
    }
      // Example with a realUrl configuration. See typolink.additionalParams below ...
    pdf_and_print_button_realUrl = COA
    pdf_and_print_button_realUrl {
      wrap = <div class="tx-pdfcontroller-pi2"><ul> | </ul></div>
      10 < plugin.tx_pdfcontroller_pi2.master_templates.pdf_and_print_button.10
      10 {
        imageLinkWrap {
          typolink {
            additionalParams >
              // Example:  ...ADDITIONALPARAMS...print.html&tx_pdfcontroller_pi1[pixels]=580
            additionalParams =  ###ADDITIONALPARAMS###{$plugin.tx_pdfcontroller_pi2.realUrl.print}
          }
        }
      }
      20 < plugin.tx_pdfcontroller_pi2.master_templates.pdf_and_print_button.20
    }
  }
}
